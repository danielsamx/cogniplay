<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CogniPlay</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
      :root {
        --primary: #8b5cf6;
        --secondary: #3b82f6;
      }

      body,
      html {
        height: 100%;
        background: linear-gradient(-45deg, #fdfcfb, #e2d1f9, #e0f2fe, #fef3c7);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        overflow-x: hidden;
      }

      @media (min-width: 1024px) {
        body,
        html {
          overflow: hidden;
        }
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .particle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.6);
        pointer-events: none;
        z-index: 0;
        animation: floatParticle 10s linear infinite;
      }

      @keyframes floatParticle {
        0% {
          transform: translateY(110vh) scale(0);
          opacity: 0;
        }
        50% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(-10vh) scale(1.5);
          opacity: 0;
        }
      }

      .bounce-in {
        animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      }

      @keyframes bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.3);
        }
        50% {
          opacity: 1;
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .btn-play {
        background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);
        background-size: 200% 200%;
        animation:
          gradientShift 4s linear infinite,
          pulseButton 2s infinite;
        transition: all 0.3s ease;
      }

      @keyframes pulseButton {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
        }
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .energy-pulse {
        animation: pulseBar 4s ease-in-out infinite;
      }

      @keyframes pulseBar {
        0% {
          width: 5%;
        }
        50% {
          width: 100%;
        }
        100% {
          width: 5%;
        }
      }

      .avatar-card {
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 4px solid transparent;
      }

      input[type="radio"]:checked + label {
        border-color: #8b5cf6;
        background: white;
        transform: scale(1.1) translateY(-5px);
        box-shadow: 0 15px 30px rgba(139, 92, 246, 0.3);
      }

      input[type="radio"]:focus + label {
        outline: 3px solid #8b5cf6;
        outline-offset: 4px;
      }

      /* TOOLTIP CUSTOM SYSTEM */
      .has-tooltip {
        position: relative;
        display: flex;
        justify-content: center;
      }

      .tooltip-text {
        visibility: hidden;
        position: absolute;
        top: 110%; /* Debajo del botÃ³n */
        background-color: #1e293b;
        color: #fff;
        text-align: center;
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 0.75rem;
        font-weight: bold;
        white-space: nowrap;
        z-index: 50;
        opacity: 0;
        transition: opacity 0.3s;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      }

      .has-tooltip:hover .tooltip-text,
      .has-tooltip:focus-within .tooltip-text {
        visibility: visible;
        opacity: 1;
      }

      /* Flecha del tooltip */
      .tooltip-text::after {
        content: "";
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent #1e293b transparent;
      }
    </style>
  </head>
  <body class="flex flex-col font-sans text-slate-800 min-h-screen">
    <div
      id="particles-container"
      class="fixed inset-0 pointer-events-none"
      aria-hidden="true"
    ></div>

    <audio id="bgMusic" loop>
      <source src="music/bg-home.mp3" type="audio/mpeg" />
    </audio>

    <nav
      class="h-[12vh] px-4 md:px-8 flex justify-between items-center max-w-6xl mx-auto w-full z-20"
    >
      <div class="flex items-center gap-2 md:gap-3">
        <div>
          <img
            src="./assets/logo.png"
            alt="Logo de CogniPlay"
            class="w-7 h-7 md:w-15 md:h-15"
          />
        </div>
        <span
          class="text-xl md:text-3xl font-black bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600"
        >
          CogniPlay
        </span>
      </div>

      <div class="flex items-center gap-2 md:gap-4" data-arrow-group>
        <div class="has-tooltip">
          <a
            href="./pages/nosotros.html"
            class="bg-white/70 backdrop-blur px-3 py-2 md:px-6 md:py-3 rounded-xl font-bold text-slate-600 border-b-4 border-slate-200 text-xs md:text-base hover:bg-white transition-colors"
          >
            Nosotros
          </a>
          <span class="tooltip-text">Conoce al equipo</span>
        </div>

        <div class="has-tooltip">
          <a
            href="./pages/ayuda.html"
            class="bg-white/70 backdrop-blur px-3 py-2 md:px-6 md:py-3 rounded-xl font-bold text-slate-600 border-b-4 border-slate-200 text-xs md:text-base hover:bg-white transition-colors"
          >
            Ayuda
          </a>
          <span class="tooltip-text">Tutorial</span>
        </div>

        <div class="has-tooltip">
          <button
            onclick="toggleMusic()"
            id="musicBtn"
            aria-label="Musica"
            aria-pressed="false"
            type="button"
            class="w-12 h-12 bg-white rounded-full shadow-lg border-2 border-purple-100 flex items-center justify-center text-xl hover:scale-110 focus-visible:ring-4 focus-visible:ring-purple-400 outline-none cursor-pointer transition-transform"
          >
            ðŸ”‡
          </button>
          <span class="tooltip-text">MÃºsica</span>
        </div>
      </div>
    </nav>

    <main
      class="flex-grow flex flex-col lg:flex-row justify-center items-center px-6 md:px-12 py-6 lg:py-0 z-10 gap-8 lg:gap-16 max-w-7xl mx-auto w-full"
    >
      <section
        class="flex-1 bounce-in flex flex-col items-center lg:items-start w-full"
      >
        <h1
          class="text-4xl md:text-6xl lg:text-7xl font-black text-slate-900 mb-2 md:mb-4 text-center lg:text-left leading-tight"
        >
          Â¡Hola, <span class="text-purple-600">Estrella</span>!
        </h1>
        <p
          class="text-lg md:text-2xl text-slate-500 font-bold mb-6 md:mb-8 text-center lg:text-left"
        >
          Elige tu personaje mÃ¡gico:
        </p>

        <fieldset
          data-arrow-group
          class="flex flex-wrap lg:flex-nowrap gap-4 md:gap-8 justify-center lg:justify-start items-center w-full border-none"
        >
          <legend class="sr-only">Selecciona tu avatar</legend>

          <div class="relative has-tooltip">
            <input
              type="radio"
              id="boy"
              name="avatar"
              aria-label="Elegir niÃ±o"
              class="sr-only"
              checked
            />
            <label
              for="boy"
              class="avatar-card cursor-pointer block p-4 md:p-6 bg-white/60 backdrop-blur rounded-3xl text-5xl md:text-7xl shadow-xl"
              >ðŸ‘¦</label
            >
            <span class="tooltip-text">Elegir NiÃ±o</span>
          </div>

          <div class="relative has-tooltip">
            <input
              type="radio"
              id="girl"
              name="avatar"
              aria-label="Elegir niÃ±a"
              class="sr-only"
            />
            <label
              for="girl"
              class="avatar-card cursor-pointer block p-4 md:p-6 bg-white/60 backdrop-blur rounded-3xl text-5xl md:text-7xl shadow-xl"
              >ðŸ‘§</label
            >
            <span class="tooltip-text">Elegir NiÃ±a</span>
          </div>

          <div class="relative has-tooltip">
            <input
              type="radio"
              id="robot"
              name="avatar"
              aria-label="Elegir robot"
              class="sr-only"
            />
            <label
              for="robot"
              class="avatar-card cursor-pointer block p-4 md:p-6 bg-white/60 backdrop-blur rounded-3xl text-5xl md:text-7xl shadow-xl"
              >ðŸ¤–</label
            >
            <span class="tooltip-text">Elegir Robot</span>
          </div>
        </fieldset>
      </section>

      <section class="flex-1 flex flex-col items-center gap-8 lg:gap-12 w-full">
        <div
          class="w-full max-w-sm md:max-w-md bg-white/40 backdrop-blur-xl p-6 md:p-8 rounded-[2.5rem] md:rounded-[3.5rem] shadow-2xl border-2 border-white/50 bounce-in"
          style="animation-delay: 0.2s"
        >
          <div class="flex justify-between items-end mb-4 px-2">
            <div class="text-left">
              <p
                class="text-[10px] md:text-xs font-black text-purple-600 uppercase tracking-widest"
              >
                EnergÃ­a Infinita
              </p>
              <h2
                id="energy-label"
                class="text-xl md:text-3xl font-black text-slate-800 transition-opacity duration-300"
              >
                Â¡Cargando!
              </h2>
            </div>
            <span class="text-3xl md:text-5xl animate-pulse" id="energy-emoji"
              >âš¡</span
            >
          </div>
          <div
            class="w-full bg-slate-200/40 h-10 md:h-16 rounded-full p-1.5 md:p-2 shadow-inner relative overflow-hidden"
          >
            <div
              id="energy-bar"
              class="energy-pulse bg-gradient-to-r from-green-400 via-blue-400 via-purple-500 to-pink-500 h-full rounded-full shadow-lg relative transition-all duration-300"
            ></div>
          </div>
        </div>

        <div
          class="bounce-in w-full flex justify-center pb-10 lg:pb-0 has-tooltip"
          style="animation-delay: 0.4s"
        >
          <a
            href="pages/explorar.html"
            class="btn-play text-white text-2xl md:text-5xl font-black w-full md:w-auto text-center px-10 py-6 md:px-20 md:py-10 rounded-[2rem] md:rounded-[3rem] shadow-2xl flex items-center justify-center gap-4"
            aria-label="A jugar, explorar juegos"
          >
            Â¡A JUGAR! ðŸŽ®
          </a>
          <span class="tooltip-text">Â¡Empieza la aventura!</span>
        </div>
      </section>
    </main>

    <footer
      class="h-[8vh] hidden md:flex items-center justify-center text-slate-500 font-bold text-xs md:text-sm z-10"
    >
      <div class="bg-white/50 backdrop-blur px-6 py-2 rounded-full shadow-sm">
        âœ¨ Â¡PrepÃ¡rate para la aventura! âœ¨
      </div>
    </footer>

    <script>
      const audio = document.getElementById("bgMusic");
      const musicBtn = document.getElementById("musicBtn");

      function toggleMusic() {
        if (audio.paused) {
          audio.play().catch((e) => console.log("InteracciÃ³n requerida"));
          musicBtn.innerText = "ðŸ”Š";
          musicBtn.setAttribute("aria-pressed", "true");
          musicBtn.setAttribute("aria-label", "Desactivar musica");
        } else {
          audio.pause();
          musicBtn.innerText = "ðŸ”‡";
          musicBtn.setAttribute("aria-pressed", "false");
          musicBtn.setAttribute("aria-label", "Activar musica");
        }
      }

      const container = document.getElementById("particles-container");
      const particleCount = window.innerWidth < 768 ? 6 : 12;
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        const size = Math.random() * 20 + 10 + "px";
        particle.style.width = size;
        particle.style.height = size;
        particle.style.left = Math.random() * 100 + "vw";
        particle.style.animationDuration = Math.random() * 5 + 5 + "s";
        particle.style.animationDelay = Math.random() * 5 + "s";
        container.appendChild(particle);
      }

      const label = document.getElementById("energy-label");
      const emoji = document.getElementById("energy-emoji");
      const phrases = [
        "Â¡Poder Total!",
        "Â¡EstÃ¡s Listo!",
        "Â¡Eres Grande!",
        "Â¡A Brillar!",
      ];
      const emojis = ["âš¡", "â­", "ðŸ”¥", "ðŸŒˆ"];
      let index = 0;

      setInterval(() => {
        index = (index + 1) % phrases.length;
        label.style.opacity = 0;
        setTimeout(() => {
          label.innerText = phrases[index];
          emoji.innerText = emojis[index];
          label.style.opacity = 1;
        }, 300);
      }, 3000);

      function enableArrowGroups(root = document) {
        root.querySelectorAll("[data-arrow-group]").forEach((group) => {
          group.addEventListener("keydown", (event) => {
            const keys = ["ArrowRight", "ArrowLeft", "ArrowDown", "ArrowUp"];
            if (!keys.includes(event.key)) return;
            const target = event.target;
            if (
              target.tagName === "INPUT" ||
              target.tagName === "TEXTAREA" ||
              target.tagName === "SELECT"
            )
              return;
            const items = Array.from(
              group.querySelectorAll(
                'a,button,summary,[role="radio"],[tabindex="0"]',
              ),
            ).filter(
              (el) =>
                !el.hasAttribute("disabled") &&
                el.getAttribute("tabindex") !== "-1",
            );
            const index = items.indexOf(target);
            if (index < 0) return;
            let nextIndex = index;
            if (event.key === "ArrowRight" || event.key === "ArrowDown")
              nextIndex = index + 1;
            if (event.key === "ArrowLeft" || event.key === "ArrowUp")
              nextIndex = index - 1;
            if (nextIndex !== index && items[nextIndex]) {
              event.preventDefault();
              items[nextIndex].focus();
            }
          });
        });
      }

      enableArrowGroups();
    </script>
  </body>
</html>
